<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>work3</title>
    <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
</head>
<body>
    <a-scene>
        <a-entity id="box" gltf-model="scene.gltf"
            position="0 1 -3"
            scale="1 1 1"
            rotation="0 0 0"
            animation__rotate="property: rotation; to: 0 360 0; loop: true; dur: 4000; autoplay: false;
                                 startEvents: startRotate; pauseEvents: stopRotate"
            animation__bounce="property: position; to: 0 6 -3; dir: alternate; dur: 800; loop: true;autoplay: false;
                                 startEvents: startBounce; pauseEvents: stopBounce "
            animation__shake="property: rotation; to: 0 0 5; dur: 100; dir: alternate; loop: true;autoplay: true"


            
        </a-entity>
        
        <!-- แสง -->
        <a-light type="ambient" intensity="2"></a-light>
        <a-sky color="PaleTurquoise"></a-sky>

        <!-- กล้อง + Cursor -->
        <a-entity id ="cam" camera look-controls position="0 6 6">
            <a-cursor raycaster="objects: #box"></a-cursor>
        </a-entity>

        <script>
            const box = document.querySelector('#box');
            let active = false;
            // หยุด animation ตอนเริ่มต้น
            box.addEventListener('click', () => {
                if (!active) {
                    box.emit('startRotate');
                    box.emit('startBounce');
                } else {
                    box.emit('stopRotate');
                    box.emit('stopBounce');
                }
                active = !active;
            });
            const cam = document.querySelector('#cam');
            window.addEventListener('wheel',e =>{cam.object3D.position.z += e.deltaY * 0.01})
        </script>
    </a-scene>  
</body>
</html>